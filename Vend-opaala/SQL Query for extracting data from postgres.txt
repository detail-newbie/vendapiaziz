select o.id OrderId,o.status as OrderStatus, o.created_at ordercreatedDate,o.user_id, o.total_price ordertotalprice "
                   "  ,oi.id lineid,di.name itemname, di.description itemDescription, "
                   " oi.quantity, oi.unit_price, oi.total_price linetotalprice ,oi.item_id "
                   " , r.tablename, r.restaurantname "
                   " ,n.description noticationDescription, n.comment notificationcomment, n.status notificationstatus, "
                   " n.type notificationtype , r.resturantid" 
               "  from order_order o "
                "    INNER JOIN order_orderitem oi ON o.id=oi.order_id  "
                 "   INNER JOIN (select dt.id tableid, dt.name tablename, dr.name restaurantname, dr.id resturantid "
                  "              from  data_table dt inner join data_restaurant dr "
                   "             on DT.restaurant_id = dr.id "
                     "           ) as r "
                      "          ON o.table_id=r.tableid  "
                   " INNER JOIN data_item di on oi.item_id = di.id  "
                   " INNER JOIN notification_notification as n on o.id = n.order_id